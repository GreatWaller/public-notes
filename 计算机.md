# 计算机

### 1 计算机组成

![image-20200702092924104](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200702092924104.png)

> 寄存器的速度为内存的100倍, 所以先存入cache

![image-20200702093321207](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200702093321207.png)

> 缓存：往下起来越慢。L3多核共享。

![image-20200702143627480](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200702143627480.png)

![image-20200702095041920](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200702095041920.png)

- 超线程

 ![image-20200702093759917](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200702093759917.png)



- 指令重排序



### 2 缓存

![image-20200703110928856](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703110928856.png)

![image-20200703111203702](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703111203702.png)

> 冲突不命中（conflict miss）

![image-20200703111634594](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703111634594.png)

> 术语

![image-20200703115624868](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703115624868.png)

> 一个真实的高速缓存层次结构的解剖

![image-20200703143012170](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703143012170.png)

![image-20200703143416719](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703143416719.png)

> **现在系统会折中使一个高速缓存块包含64个字节**

![image-20200703150657871](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703150657871.png)

#### 如何利用局部性

![image-20200703165033844](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703165033844.png)



### 3 虚拟内存

计算机系统的主存被组织成一个由M个连续的字节大小的单元组成的数组。每字节都有一个唯一的物理地址。

> 物理寻址

![image-20200703171107631](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703171107631.png)

> 虚拟寻址

![image-20200703171550850](C:\Users\Xuan\AppData\Roaming\Typora\typora-user-images\image-20200703171550850.png)